"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8427],{9685:(t,e,a)=>{a.d(e,{Sidebar:()=>y});var o=a(95155),n=a(57340),r=a(57434),s=a(47924),l=a(72713),i=a(39785),c=a(55868),d=a(381),g=a(94788),u=a(6874),h=a.n(u),m=a(35695),f=a(97168);let p=[{icon:n.A,label:"Dashboard",href:"/dashboard"},{icon:r.A,label:"Campaigns",href:"/campaigns"},{icon:s.A,label:"Track Donation",href:"/track-donation"},{icon:l.A,label:"Analytics",href:"/analytics"},{icon:i.A,label:"XRPL Wallets",href:"/wallets"},{icon:c.A,label:"Transactions",href:"/transactions"}],b=[{icon:d.A,label:"Settings",href:"/settings"},{icon:g.A,label:"Help",href:"/help"}];function y(){let t=(0,m.usePathname)();return(0,o.jsx)("div",{className:"w-64 bg-white border-r border-slate-200 p-6 shadow-sm",children:(0,o.jsxs)("nav",{className:"space-y-2",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Main Menu"}),p.map(e=>{let a=t===e.href||t.startsWith("".concat(e.href,"/"));return(0,o.jsx)(h(),{href:e.href,children:(0,o.jsxs)(f.$,{variant:a?"secondary":"ghost",className:"w-full justify-start ".concat(a?"text-white hover:opacity-90":"text-slate-600 hover:text-slate-800 hover:bg-slate-100"),style:a?{backgroundColor:"#3CAEA3"}:{},children:[(0,o.jsx)(e.icon,{className:"mr-3 h-4 w-4"}),e.label]})},e.label)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3",children:"Support"}),b.map(e=>{let a=t===e.href;return(0,o.jsx)(h(),{href:e.href,children:(0,o.jsxs)(f.$,{variant:a?"secondary":"ghost",className:"w-full justify-start ".concat(a?"text-white hover:opacity-90":"text-slate-600 hover:text-slate-800 hover:bg-slate-100"),style:a?{backgroundColor:"#3CAEA3"}:{},children:[(0,o.jsx)(e.icon,{className:"mr-3 h-4 w-4"}),e.label]})},e.label)})]})]})})}},40379:(t,e,a)=>{a.d(e,{c:()=>s});var o=a(98915),n=a(35317);let r=[{category:"Education",count:25,totalRaised:45e3},{category:"Healthcare",count:20,totalRaised:38e3},{category:"Environment",count:18,totalRaised:22e3},{category:"Community",count:15,totalRaised:15e3},{category:"Technology",count:11,totalRaised:5e3}];class s{static async checkFirebaseAvailability(){try{if(!o.db)return console.log("Firebase not initialized"),!1;let t=(0,n.collection)(o.db,"donations"),e=(0,n.query)(t,(0,n.orderBy)("createdAt","desc"));return await (0,n.getDocs)(e),!0}catch(t){return console.log("Firebase not available or no permissions:",t),!1}}static async getDonationStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{if(!await this.checkFirebaseAvailability())return{totalDonations:0,totalAmount:0,avgDonation:0,donationTrend:[]};let e=(0,n.collection)(o.db,"donations"),a=(0,n.query)(e,(0,n.orderBy)("createdAt","desc"));if("all"!==t){let o=new Date;"today"===t?o.setHours(0,0,0,0):"week"===t?o.setDate(o.getDate()-7):"month"===t?o.setMonth(o.getMonth()-1):"year"===t&&o.setFullYear(o.getFullYear()-1),a=(0,n.query)(e,(0,n.where)("createdAt",">=",n.Dc.fromDate(o)),(0,n.orderBy)("createdAt","desc"))}let r=(await (0,n.getDocs)(a)).docs.map(t=>({id:t.id,...t.data()})),s=r.reduce((t,e)=>t+e.amount,0),l=r.length>0?s/r.length:0,i=r.reduce((t,e)=>{let a=new Date(e.createdAt.toDate()),o="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0"));return t[o]||(t[o]={date:o,amount:0,count:0}),t[o].amount+=e.amount,t[o].count+=1,t},{}),c=Object.values(i).sort((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime());return console.log("Donations fetched:",r.length,"donations"),console.log("Sample donations:",r.slice(0,3)),{totalDonations:r.length,totalAmount:s,avgDonation:l,donationTrend:c}}catch(t){return console.error("Error fetching donation stats, using mock data:",t),{totalDonations:0,totalAmount:0,avgDonation:0,donationTrend:[]}}}static async getCampaignStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{if(!await this.checkFirebaseAvailability())return{totalCampaigns:89,activeCampaigns:34,completedCampaigns:55,successRate:67.4,avgGoal:5e3,avgRaised:3370,fundingRate:67.4,categoryDistribution:r};let e=(0,n.collection)(o.db,"campaigns"),a=(0,n.query)(e);if("all"!==t){let o=new Date;"week"===t?o.setDate(o.getDate()-7):"month"===t?o.setMonth(o.getMonth()-1):"year"===t&&o.setFullYear(o.getFullYear()-1),a=(0,n.query)(e,(0,n.where)("createdAt",">=",n.Dc.fromDate(o)))}let s=(await (0,n.getDocs)(a)).docs.map(t=>({id:t.id,...t.data()})),l=s.filter(t=>t.raised>=t.goal),i=s.length>0?l.length/s.length*100:0,c=s.reduce((t,e)=>t+e.goal,0),d=s.reduce((t,e)=>t+e.raised,0),g=s.length>0?c/s.length:0,u=s.length>0?d/s.length:0,h=s.reduce((t,e)=>(t[e.category]||(t[e.category]={category:e.category,count:0,totalRaised:0}),t[e.category].count+=1,t[e.category].totalRaised+=e.raised,t),{}),m=Object.values(h);return{totalCampaigns:s.length,activeCampaigns:s.filter(t=>"active"===t.status).length,completedCampaigns:s.filter(t=>"completed"===t.status).length,successRate:i,avgGoal:g,avgRaised:u,fundingRate:c>0?d/c*100:0,categoryDistribution:m}}catch(t){return console.error("Error fetching campaign stats, using mock data:",t),{totalCampaigns:89,activeCampaigns:34,completedCampaigns:55,successRate:67.4,avgGoal:5e3,avgRaised:3370,fundingRate:67.4,categoryDistribution:r}}}static async getUserStats(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{if(!o.db)return console.log("Firebase not initialized"),{totalUsers:0,donors:0,campaigners:0,admins:0,verificationRate:0};let e=(0,n.collection)(o.db,"users"),a=(0,n.query)(e);if("all"!==t){let o=new Date;"week"===t?o.setDate(o.getDate()-7):"month"===t?o.setMonth(o.getMonth()-1):"year"===t&&o.setFullYear(o.getFullYear()-1),a=(0,n.query)(e,(0,n.where)("createdAt",">=",n.Dc.fromDate(o)))}let r=(await (0,n.getDocs)(a)).docs.map(t=>({id:t.id,...t.data()})),s=r.reduce((t,e)=>(t[e.role]||(t[e.role]=0),t[e.role]+=1,t),{}),l=r.filter(t=>t.isVerified),i=r.length>0?l.length/r.length*100:0;return{totalUsers:r.length,donors:s.donor||0,campaigners:s.campaigner||0,admins:s.admin||0,verificationRate:i}}catch(t){return console.error("Error fetching user stats, using fallback data:",t),t.message&&t.message.includes("permissions")&&console.log("Insufficient permissions for users collection, returning empty stats"),{totalUsers:0,donors:0,campaigners:0,admins:0,verificationRate:0}}}static async getPlatformOverview(){try{let[t,e,a]=await Promise.all([this.getDonationStats("all"),this.getCampaignStats("all"),this.getUserStats("all")]);return{totalDonations:t.totalDonations,totalAmount:t.totalAmount,totalCampaigns:e.totalCampaigns,totalUsers:a.totalUsers,successRate:e.successRate,avgDonation:t.avgDonation}}catch(t){console.error("Error fetching platform overview:",t);try{let t=await this.getDonationStats("all"),e=await this.getCampaignStats("all");return{totalDonations:t.totalDonations,totalAmount:t.totalAmount,totalCampaigns:e.totalCampaigns,totalUsers:0,successRate:e.successRate,avgDonation:t.avgDonation}}catch(t){return console.error("Fallback also failed, using minimal mock data:",t),{totalDonations:0,totalAmount:0,totalCampaigns:0,totalUsers:0,successRate:0,avgDonation:0}}}}}},41397:(t,e,a)=>{a.d(e,{k:()=>l});var o=a(95155),n=a(12115),r=a(15312),s=a(53999);let l=n.forwardRef((t,e)=>{let{className:a,value:n,...l}=t;return(0,o.jsx)(r.bL,{ref:e,className:(0,s.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,o.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});l.displayName=r.bL.displayName},88145:(t,e,a)=>{a.d(e,{E:()=>l});var o=a(95155),n=a(74466),r=a(53999);let s=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",testnet:"border-transparent bg-orange-500 text-white hover:bg-orange-600"}},defaultVariants:{variant:"default"}});function l(t){let{className:e,variant:a,children:n,...l}=t;return(0,o.jsx)("div",{className:(0,r.cn)(s({variant:a}),e),...l,children:"testnet"!==a||n?n:"Live on Testnet"})}}}]);